(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-nft_option-nft_option"],{1575:function(t,e,n){"use strict";n.r(e);var i=n("a9cc"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"1eb7":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uniNavBar:n("94b6").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"_nft_option"},[n("uni-nav-bar",{staticClass:"_nav_index",attrs:{"left-img":"https://oss.dbchain.cloud/uni_mytrol_applet/icon/back.png","left-img-h":"40px","left-img-w":"40px",fixed:"true",color:"#ffffff",backgroundColor:"#1C1C1C",title:" ",statusBar:!0},on:{clickLeft:function(e){arguments[0]=e=t.$handleEvent(e),t.clickLeft()}}}),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.NFT_item.file,expression:"NFT_item.file"}]},[n("option_template",{attrs:{NFT_item:t.NFT_item},scopedSlots:t._u([{key:"footer",fn:function(){return[n("v-uni-view",{staticClass:"_share_flex",class:[t.isGif(t.getIpfsSrc(t.NFT_item.file),null)?"_fot_img_share":""]},[n("v-uni-button",{staticClass:"_share_btn",attrs:{"open-type":"share"}},[n("v-uni-image",{attrs:{src:"https://oss.mytrol.cn/uni_mytrol/icon/my_nft_option_share.png",mode:""}})],1)],1),n("v-uni-view",{staticClass:"_footer",class:[t.isGif(t.getIpfsSrc(t.NFT_item.file),null)?"_fot_img_gif":""]},[n("v-uni-view",{staticClass:"_fot_img",class:[t.isGif(t.getIpfsSrc(t.NFT_item.file),null)?"_gif_fot":""]},[n("v-uni-image",{attrs:{src:t.isGif(t.getIpfsSrc(t.NFT_item.file),"img_foot"),mode:""}})],1)],1)]},proxy:!0}])}),n("v-uni-view",{staticClass:"_content"},[n("v-uni-view",{staticClass:"_user_block"},[n("v-uni-view",{staticClass:"_icon_l"},[n("v-uni-image",{attrs:{src:"https://oss.dbchain.cloud/uni_mytrol_applet/icon/my_nft_option_icon_left.png",mode:""}})],1),n("v-uni-view",{staticClass:"_tit"},[n("v-uni-view",{staticClass:"_t1 _one_omit"},[t._v(t._s(t.NFT_item.name))]),n("v-uni-view",{staticClass:"_label_fot"},[n("v-uni-view",{staticClass:"_label_l"},[n("v-uni-view",{staticClass:"_t1"},[t._v("限量")]),n("v-uni-view",{staticClass:"_t2"},[t._v(t._s(t.NFT_item.number-t.NFT_item.counter_sold_nft>0?t.NFT_item.number-t.NFT_item.counter_sold_nft:0)+"/"+t._s(t.NFT_item.number?t.NFT_item.number:"")+"份")])],1),n("v-uni-view",{staticClass:"_label_r"},[n("v-uni-view",{staticClass:"_t1"},[t._v(t._s(t.NFT_item.classification?t.NFT_item.classification:"数字文创"))])],1)],1)],1),n("v-uni-view",{staticClass:"_icon_l"},[n("v-uni-image",{attrs:{src:"https://oss.dbchain.cloud/uni_mytrol_applet/icon/my_nft_option_icon_right.png",mode:""}})],1)],1),n("v-uni-view",{staticClass:"_creat_name"},[n("v-uni-view",{staticClass:"_left"},[n("v-uni-image",{attrs:{src:t.getIpfsSrc(t.NFT_item.avatar),mode:""}}),n("v-uni-image",{staticClass:"_hot",attrs:{src:t.hot,mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"_right"},[n("v-uni-view",{staticClass:"_t1"},[t._v("发行方")]),n("v-uni-view",{staticClass:"_t2"},[t._v(t._s(t.NFT_item.nickname))])],1)],1),n("v-uni-view",{staticClass:"_desc"},[n("v-uni-view",{staticClass:"_name"},[t._v("藏品介绍")]),t.NFT_item.file_background?n("v-uni-view",{staticClass:"_img"},[n("v-uni-image",{attrs:{src:t.getIpfsSrc(t.NFT_item.file_background),mode:"widthFix"}})],1):t._e()],1),t.NFT_item.equity_cover?n("v-uni-view",{staticClass:"equity"},[n("v-uni-view",{staticClass:"_card",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.linkTo("/pages/option/option?img="+t.NFT_item.qr_code+"&title=权益详情")}}},[n("v-uni-image",{staticClass:"bg",attrs:{src:t.NFT_item.equity_cover,mode:"widthFix"}})],1),t.NFT_item.equity_content?n("v-uni-view",{staticClass:"equity_content"},[n("v-uni-image",{attrs:{src:t.NFT_item.equity_content,mode:"widthFix"}})],1):t._e()],1):t._e(),n("v-uni-view",{staticClass:"_desc"},[n("v-uni-view",{staticClass:"_name"},[t._v("购买须知")]),n("v-uni-view",{staticClass:"_text"},[t._v("数字藏品按类型分为非实物类虚拟数字商品，权益类数字证明和实物类数字凭证。仅限经实名认证为年满14周岁的中国大陆用户购买。数字藏品的版权由发行方或原创者拥有，除另行取得版权拥有者书面同意外，用户不得将数字藏品用于任何商业用途。本商品一经售出，不支持退换。请勿对数字藏品进行炒作、场外交易、欺诈，或以任何其他非法方式进行使用。")])],1),n("v-uni-view",{staticClass:"_help"},[n("v-uni-image",{attrs:{src:"https://oss.dbchain.cloud/uni_mytrol_applet/icon/my_nft_option_help.png",mode:"heightFix"}})],1),"2"==t.NFT_item.publish?n("v-uni-view",{staticClass:"_buy"},[n("img",{staticClass:"button-background-img",attrs:{src:t.unpublishBgsrc(),alt:""}}),n("v-uni-view",{staticClass:"price-box"},[n("v-uni-view",{staticClass:"price"},[n("v-uni-view",{staticClass:"p1"},[t._v("价格")]),n("v-uni-view",{staticClass:"p2"},[t._v("¥"+t._s(t.NFT_item.price?t.NFT_item.price:""))])],1),n("v-uni-view",{staticClass:"remaining"},[t._v("剩余\n\t\t\t\t\t\t\t"+t._s(t.NFT_item.number-t.NFT_item.counter_sold_nft>0?t.NFT_item.number-t.NFT_item.counter_sold_nft:0)+"份")])],1),n("Time",{attrs:{publishTime:t.NFT_item.opening_time,buyStatus:t.NFT_item.buy_status,getFree:t.NFT_item.get_free,NFT_item:t.NFT_item},on:{TimeClick:function(e){arguments[0]=e=t.$handleEvent(e),t.buyNft()}}})],1):n("v-uni-view",{staticClass:"_redeem_btn"}),t.buyHtml?n("v-uni-view",{staticClass:"buy_html",domProps:{innerHTML:t._s(t.buyHtml)}}):t._e(),"0"==t.NFT_item.publish?n("v-uni-view",{staticClass:"_buy"},[n("img",{staticClass:"button-background-img",attrs:{src:"http://oss.mytrol.cn/uni_mytrol/img/nft_buy_bg_unpublish.png",alt:""}}),n("v-uni-view",{staticClass:"_no_publish"},[t._v("已下架")])],1):t._e()],1)],1)],1)},o=[]},6834:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.equity-content[data-v-29ac4594]{width:100%;padding:10px 20px;overflow:hidden;border-radius:10px;box-sizing:border-box}._nft_option[data-v-29ac4594]{background:#1c1c1c}._nft_option ._footer[data-v-29ac4594]{position:relative}._nft_option ._footer ._fot_img[data-v-29ac4594]{display:flex;justify-content:center}._nft_option ._footer ._fot_img uni-image[data-v-29ac4594]{height:80px;width:276px}._nft_option ._footer ._download[data-v-29ac4594]{position:absolute;display:flex;width:82px;justify-content:space-between;left:calc((100vw - 82px) / 2);top:18px}._nft_option ._footer ._download uni-image[data-v-29ac4594]{width:34px;height:34px}._nft_option ._fot_img_gif[data-v-29ac4594]{top:-72px;height:80px}._nft_option ._fot_img_gif ._fot_img uni-image[data-v-29ac4594]{height:112px}._nft_option ._fot_img_gif ._gif_fot uni-image[data-v-29ac4594]{height:189px}._nft_option ._share_flex[data-v-29ac4594]{display:flex;justify-content:center;align-items:center;top:15px;position:relative}._nft_option ._share_flex ._share_btn[data-v-29ac4594]{padding:0;margin:0;height:34px;background:transparent;border:none;border-radius:50%;width:34px}._nft_option ._share_flex ._share_btn uni-image[data-v-29ac4594]{width:34px;height:34px}._nft_option ._fot_img_share[data-v-29ac4594]{top:-28px;position:relative;z-index:1}._nft_option ._content[data-v-29ac4594]{background:#000;border-radius:18px;position:relative;z-index:2}._nft_option ._content ._user_block[data-v-29ac4594]{display:flex;padding:19px 12px;justify-content:center}._nft_option ._content ._user_block ._icon_l uni-image[data-v-29ac4594],\r\n._nft_option ._content ._user_block ._icon_r uni-image[data-v-29ac4594]{width:44px;height:44px;position:relative;top:10px}._nft_option ._content ._user_block ._tit[data-v-29ac4594]{height:30px;font-size:18px;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#fff;line-height:30px;padding:0 6px 0 8px;min-width:40%;max-width:70%}._nft_option ._content ._user_block ._tit ._t1[data-v-29ac4594]{text-align:center}._nft_option ._content ._user_block ._tit ._label_fot[data-v-29ac4594]{display:flex;justify-content:center;padding-top:9px}._nft_option ._content ._user_block ._tit ._label_fot ._label_l[data-v-29ac4594]{display:flex;border:1px solid #c8a063;border-radius:6px;margin-right:10px}._nft_option ._content ._user_block ._tit ._label_fot ._label_l ._t1[data-v-29ac4594]{padding:0 4px;height:20px;background:#c8a063;border-radius:6px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#000;line-height:20px;min-width:30px}._nft_option ._content ._user_block ._tit ._label_fot ._label_l ._t2[data-v-29ac4594]{padding:0 4px;font-size:12px;font-family:Roboto-Medium,Roboto;font-weight:500;color:#c8a063;line-height:20px;white-space:nowrap}._nft_option ._content ._user_block ._tit ._label_fot ._label_r[data-v-29ac4594]{margin-left:10px}._nft_option ._content ._user_block ._tit ._label_fot ._label_r ._t1[data-v-29ac4594]{height:22px;background:#c8a063;border-radius:6px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#000;line-height:22px;padding:0 8px}._nft_option ._content ._creat_name[data-v-29ac4594]{display:flex;width:93.6vw;height:82px;background:#151515;border-radius:12px;margin:0 auto;align-items:center;margin-top:30px;margin-bottom:12px}._nft_option ._content ._creat_name ._left[data-v-29ac4594]{padding-left:18px;position:relative}._nft_option ._content ._creat_name ._left uni-image[data-v-29ac4594]{width:47px;height:47px;border-radius:50%}._nft_option ._content ._creat_name ._left ._hot[data-v-29ac4594]{width:20px;height:20px;position:absolute;right:0;bottom:2px}._nft_option ._content ._creat_name ._right[data-v-29ac4594]{padding-left:8px;width:100%}._nft_option ._content ._creat_name ._right ._t1[data-v-29ac4594]{font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#979797;line-height:16px;margin-bottom:6px}._nft_option ._content ._creat_name ._right ._t2[data-v-29ac4594]{font-size:14px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#f7f7f7;line-height:16px}._nft_option ._content ._desc[data-v-29ac4594]{padding:20px 19px;background:#151515;border-radius:12px;width:calc(93.6vw - 38px);margin:0 auto;margin-bottom:12px}._nft_option ._content ._desc ._img uni-image[data-v-29ac4594]{width:100%;border-radius:12px}._nft_option ._content ._desc ._name[data-v-29ac4594]{font-size:18px;font-family:PingFangSC-Medium,PingFang SC;font-weight:500;color:#fff;line-height:20px;padding-bottom:10px}._nft_option ._content ._desc ._text[data-v-29ac4594]{font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#979797;line-height:22px}._nft_option ._content ._help[data-v-29ac4594]{display:flex;justify-content:center;padding:24px 0 134px}._nft_option ._content ._help uni-image[data-v-29ac4594]{height:24px}._nft_option ._buy[data-v-29ac4594]{width:95vw;margin:0 auto;height:62px;background:#ffbd21;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);position:fixed;bottom:21px;box-shadow:0 2px 16px 6px rgba(31,31,31,.5);border-radius:12px;overflow:hidden;z-index:4}._nft_option ._buy .button-background-img[data-v-29ac4594]{position:absolute;width:100%;height:100%}._nft_option ._buy .price-box[data-v-29ac4594]{position:absolute;left:10px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:1;display:flex;align-items:flex-end}._nft_option ._buy .price-box .price[data-v-29ac4594]{color:#fff;margin-left:14px}._nft_option ._buy .price-box .price .p1[data-v-29ac4594]{font-weight:400;font-size:12px}._nft_option ._buy .price-box .price .p2[data-v-29ac4594]{font-weight:500;font-size:20px}._nft_option ._buy .price-box .remaining[data-v-29ac4594]{font-size:12px;font-weight:500;color:#fff;margin-left:14px;padding-bottom:2px}._nft_option ._buy ._left[data-v-29ac4594]{padding-left:22px}._nft_option ._buy ._left ._t1[data-v-29ac4594]{height:14px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#fff;line-height:14px}._nft_option ._buy ._left ._t2[data-v-29ac4594]{height:24px;font-size:20px;font-family:Roboto-Medium,Roboto;font-weight:500;color:#fff;line-height:24px}._nft_option ._buy ._no_publish[data-v-29ac4594]{text-align:center;align-items:center;color:#e2e2e2;position:relative;z-index:2;height:100%;\r\n  /* line-height: 100%; */line-height:62px;font-size:18px}._redeem_btn ._buy[data-v-29ac4594],\r\n._redeem_btn ._redeem[data-v-29ac4594]{width:95vw;margin:0 auto;height:62px;background:#ffbd21;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);position:fixed;bottom:21px;box-shadow:0 2px 16px 6px rgba(31,31,31,.5);border-radius:12px;overflow:hidden;z-index:4}._redeem_btn ._buy .button-background-img[data-v-29ac4594],\r\n._redeem_btn ._redeem .button-background-img[data-v-29ac4594]{position:absolute;width:100%;height:100%}._redeem_btn ._buy .price-box[data-v-29ac4594],\r\n._redeem_btn ._redeem .price-box[data-v-29ac4594]{position:absolute;left:10px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:1;display:flex;align-items:flex-end}._redeem_btn ._buy .price-box .price[data-v-29ac4594],\r\n._redeem_btn ._redeem .price-box .price[data-v-29ac4594]{color:#fff;margin-left:14px}._redeem_btn ._buy .price-box .price .p1[data-v-29ac4594],\r\n._redeem_btn ._redeem .price-box .price .p1[data-v-29ac4594]{font-weight:400;font-size:12px}._redeem_btn ._buy .price-box .price .p2[data-v-29ac4594],\r\n._redeem_btn ._redeem .price-box .price .p2[data-v-29ac4594]{font-weight:500;font-size:20px}._redeem_btn ._buy .price-box .remaining[data-v-29ac4594],\r\n._redeem_btn ._redeem .price-box .remaining[data-v-29ac4594]{font-size:12px;font-weight:500;color:#fff;margin-left:14px;padding-bottom:2px}._redeem_btn ._buy ._left[data-v-29ac4594],\r\n._redeem_btn ._redeem ._left[data-v-29ac4594]{padding-left:22px}._redeem_btn ._buy ._left ._t1[data-v-29ac4594],\r\n._redeem_btn ._redeem ._left ._t1[data-v-29ac4594]{height:14px;font-size:12px;font-family:PingFangSC-Regular,PingFang SC;font-weight:400;color:#fff;line-height:14px}._redeem_btn ._buy ._left ._t2[data-v-29ac4594],\r\n._redeem_btn ._redeem ._left ._t2[data-v-29ac4594]{height:24px;font-size:20px;font-family:Roboto-Medium,Roboto;font-weight:500;color:#fff;line-height:24px}._redeem_btn ._buy ._no_publish[data-v-29ac4594],\r\n._redeem_btn ._redeem ._no_publish[data-v-29ac4594]{text-align:center;align-items:center;color:#e2e2e2;position:relative;z-index:2;height:100%;\r\n  /* line-height: 100%; */line-height:62px;font-size:18px}._redeem_btn ._buy ._flex[data-v-29ac4594],\r\n._redeem_btn ._redeem ._flex[data-v-29ac4594]{display:flex;align-items:center;height:100%;justify-content:space-around}._redeem_btn ._buy ._flex .input-box[data-v-29ac4594],\r\n._redeem_btn ._redeem ._flex .input-box[data-v-29ac4594]{height:41px;width:207px}._redeem_btn ._buy ._flex .input-box uni-input[data-v-29ac4594],\r\n._redeem_btn ._redeem ._flex .input-box uni-input[data-v-29ac4594]{height:inherit;border-radius:8px;margin-left:10px}._redeem_btn ._buy ._flex ._free_btn[data-v-29ac4594],\r\n._redeem_btn ._redeem ._flex ._free_btn[data-v-29ac4594]{color:#fff;position:relative;opacity:.7}._redeem_btn ._buy ._flex ._free_text[data-v-29ac4594],\r\n._redeem_btn ._redeem ._flex ._free_text[data-v-29ac4594]{opacity:1}.btn_icon[data-v-29ac4594]{position:absolute;right:3px;top:2px;background:#e2b346;border-radius:0 8px 0 8px;display:flex;justify-content:center;align-items:center;width:28px;height:25px}.btn_icon uni-image[data-v-29ac4594]{width:20px!important;height:20px!important;margin-right:0!important}',""]),t.exports=e},"6bdf":function(t,e,n){"use strict";n.r(e);var i=n("1eb7"),a=n("1575");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("c5e1");var r,_=n("f0c5"),c=Object(_["a"])(a["default"],i["b"],i["c"],!1,null,"29ac4594",null,!1,i["a"],r);e["default"]=c.exports},7704:function(t,e,n){var i=n("6834");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("2dea22f2",i,!0,{sourceMap:!1,shadowMode:!1})},a9cc:function(t,e,n){"use strict";var i=n("4ea4");n("99af"),n("c975"),n("a9e3"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("5319"),n("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("5530"));n("96cf");var o,r=i(n("1da1")),_=n("0841"),c=n("a712"),s=i(n("94b6")),l=i(n("88a8")),u=i(n("35a11")),d=i(n("fbc2")),p={name:"nft_list",components:{option_template:u.default,uniNavBar:s.default,Time:d.default},mounted:function(){o=this,this.$store.commit("setBuyHtml","")},computed:{height:function(){return"height:calc(100vh - 146px)"},statusBarHeight:function(){return 0}},data:function(){return{hot:"https://oss.dbchain.cloud/uni_mytrol_applet/img/mock/hot.png",NFT_item:{avatar:"",code:"",created_at:"",created_by:"",description:"",file:"",id:"",name:"",nickname:"",number:"",price:"",published_at:"",tx_hash:"",user_id:"",desc_img:"https://oss.dbchain.cloud/uni_mytrol_applet/img/mock/option/nft_option.webp",remaining:"63",collected_number:"0"},share:{title:"Mytrol数字藏品",path:"",imageUrl:"",desc:"Mytrol数字藏品",content:"Mytrol数字藏品"},redeem_code:"",buyHtml:""}},methods:{onLoad:function(t){this.wxLogin(t)},getFormatDateToStr:function(t){return(0,_.formatDate)(new Date(Number(t)),3)},loadAnim:function(){uni.createAnimation({transformOrigin:"50% 50%",duration:5e3,timingFunction:"ease",delay:0})},back:function(){console.log("back"),uni.navigateBack()},getNftOption:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$api._get("/dbchain/oracle/nft/nft_details/"+t);case 2:i=n.sent,o=(0,a.default)((0,a.default)({},e.NFT_item),i.data.result),e.NFT_item=o,console.log(o),e.share.imageUrl=e.getIpfsSrc(o.file_thumbnail?o.file_thumbnail:o.file);case 7:case"end":return n.stop()}}),n)})))()},getIpfsSrc:function(t){return-1!==t.indexOf("://")?t:l.default.IpfsUrl+t},uni_copy:function(t){return(0,_.uni_copy)(t)},clickLeft:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/pages/index/index?key=home";console.log("back");var e=getCurrentPages();2===e.length?this.$router.back(-1):1===e.length?uni.reLaunch({url:t}):this.$router.back(-1)},collect:function(){var t=arguments;return(0,r.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.length>0&&void 0!==t[0]?t[0]:"1";case 1:case"end":return e.stop()}}),e)})))()},intervalTime:function(t){var e=(0,_.intervalTime)(t);return"".concat(e[0]?24*e[0]+e[1]:e[1]>9?e[1]:"0"+e[1],":").concat(e[1]>9?e[2]:"0"+e[2],":").concat(e[2]>9?e[3]:"0"+e[3])},buyNft:function(){var t=arguments,e=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i,a,o,_,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return!(t.length>0&&void 0!==t[0])||t[0],uni.showLoading({title:"正在处理交易"}),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=0;return new Promise((function(o,_){a=setInterval((0,r.default)(regeneratorRuntime.mark((function r(){var _;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i++,r.next=3,e.$api._get("/dbchain/oracle/nft/find_by/nft_publish_order/order_id/"+t);case 3:if(_=r.sent,!(i>n)){r.next=7;break}return clearInterval(a),r.abrupt("return",o({code:"失败"}));case 7:if(!(_.data.result.length>0)){r.next=10;break}return clearInterval(a),r.abrupt("return",o(_.data.result));case 10:case"end":return r.stop()}}),r)}))),5e3)}))},e.$showLoading({title:"正在处理交易"}),o=function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api._post("/dbchain/oracle/nft/nft_order",{denom_id:e.NFT_item.id+""});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n.next=7,o();case 7:if(_=n.sent,console.log(_),"true"!=(null===(i=_.data.result)||void 0===i?void 0:i.free)){n.next=13;break}return uni.showToast({title:"区块交易中",duration:5e3,icon:"none"}),setTimeout((function(){return uni.hideToast(),uni.reLaunch({url:"/pages/index/index?key=main"})}),5e3),n.abrupt("return",!1);case 13:if("0"!=_.data.err_code){n.next=21;break}return n.next=16,e.$api._post("/dbchain/oracle/nft/nft_buy",{pay_type:"unionpay_alipay_h5",vendor:"union",order_id:_.data.result.order_id,redirect_url:window.location.origin});case 16:c=n.sent,console.log(c),"0"==c.data.err_code&&(window.location.href=c.data.result.url),n.next=22;break;case 21:console.log("没查到");case 22:case"end":return n.stop()}}),n)})))()},wxLogin:function(t){return(0,_.getStore)("user_id")?this._init_(t):this.$router.push("/pages/login/login")},_init_:function(t){if(t.id)return this.getNftOption(t.id);if(t.code)(0,_.setStore)("my_code",t.code);else{var e,n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",e=t.split("?")[1];return e?JSON.parse('{"'+decodeURIComponent(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}},i={};if(t.q){console.log("正式，q");var a=encodeURI(t.q);e=n(a)}else console.log("体验，无q"),e=t;console.log(e);try{var o=Object.keys(e)[0],r=Object.values(e)[0];i={id:o.split("id")[1],code:r},console.log(i),r&&(0,_.setStore)("my_code",r)}catch(c){console.log("无效地址")}if(i.id)return console.log(i),this.getNftOption(i.id)}return this.clickLeft()},isGif:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"img2";return(0,c.isGif)(t,e)},handleEquityDetailClick:function(){console.log("equity-detail show")},unpublishBgsrc:function(){var t="http://oss.mytrol.cn/uni_mytrol/img/nft_buy_bg.png",e="http://oss.mytrol.cn/uni_mytrol/img/nft_buy_bg_unpublish.png";if(this.$store.state.is_whitelisted){var n="2"!==this.NFT_item.buy_status,i=Number(this.NFT_item.number)-Number(this.NFT_item.counter_sold_nft)>0;return i&&n?t:e}return e},linkTo:function(t){return this.$router.push(t)},redeemNft:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.redeem_code){e.next=2;break}return e.abrupt("return",!1);case 2:return i={redeem_code:t.redeem_code},e.next=5,o.$api._post("/dbchain/oracle/nft/redeem_free",i);case 5:if(a=e.sent,!(null===(n=a.data.result)||void 0===n?void 0:n.order_id)){e.next=8;break}return e.abrupt("return",uni.reLaunch({url:"/pages/index/index?key=main"}));case 8:case"end":return e.stop()}}),e)})))()},jumpPage:function(){uni.navigateTo({url:"/pages/white_list/white_list"})}}};e.default=p},c5e1:function(t,e,n){"use strict";var i=n("7704"),a=n.n(i);a.a}}]);